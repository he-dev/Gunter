{
  "Properties": [
    {
      "$g": "StaticPropertyCollection",
      "Id": "locals",
      "Merge": "_Gunter#defaults",
      "Items": {
        "ProductName": "Gunter",
        "Greeting-1": "Hi there!"
      }
    }
  ],
  "Queries": [
    {
      "$g": "TableOrView",
      "Id": "mssql-everything",
      "Merge": "_Gunter#mssql-everything"
    },
    {
      "$g": "TableOrView",
      "Id": "mssql-empty",
      "Merge": "_Gunter#mssql-empty"
    }
  ],
  "Tests": [
    {
      "Id": "fails",
      "Enabled": true,
      "Level": "Fatal",
      "Message": "There is no data.",
      "Check": [
        "mssql-empty"
      ],
      "Assert": "Count([_id]) > 0",
      "When": {
        "Failed": [
          "send -report full -channel email",
          "halt"
        ]
      },
      "Tags": [
        "error"
      ]
    },
    {
      "Id": "passes",
      "Enabled": true,
      "Level": "Information",
      "Message": "There is some data.",
      "Check": [
        "mssql-everything"
      ],
      "Assert": "Count([_id]) = 5",
      "When": {
        "Passed": [
          {
            "$g": "Email",
            "Merge": "_Gunter#email",
            "To": [
              "gunter@test.com"
            ],
            "Report": "full"
          },
          {
            "$g": "Halt"
          }
        ]
      },
      "Tags": [
        "status"
      ]
    },
    {
      "Id": "does-not-run",
      "Enabled": false,
      "Level": "Error",
      "Message": "This test must not run.",
      "Check": [
        "mssql-everything"
      ],
      "Assert": "Count([_id]) = 0",
      "When": {
        "Failed": [
          "send -report full -channel email",
          "halt"
        ]
      },
      "Tags": []
    }
  ],
  "Reports": [
    {
      "Id": "full",
      "Merge": "_Gunter#mssql"
    }
  ]
}