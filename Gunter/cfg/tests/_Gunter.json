{
  "Variables": [
    {
      "Id": "defaults",
      "Items": {
        "TestDb": "Data Source=(local);Initial Catalog=TestDb;Integrated Security=SSPI;",
        "Greeting": "Hi there!"
      }
    }
  ],
  "Queries": [
    {
      "$g": "TableOrView",
      "Id": "mssql-everything",
      "ConnectionString": "{TestDb}",
      "Command": "file:///{TestBundle.FileName}.everything.sql",
      "Filters": [
        {
          "$g": "GetJsonValue",
          "Columns": [
            {
              "From": "_string_json",
              "Select": "$.Name",
              "Attach": "_string_json_name",
              "Default": "Unknown"
            }
          ]
        },
        {
          "$g": "GetFirstLine",
          "Columns": [
            {
              "From": "_string_text",
              "Attach": "_string_text_first_line"
            }
          ]
        }
      ]
    },
    {
      "$g": "TableOrView",
      "Id": "mssql-empty",
      "ConnectionString": "{TestDb}",
      "Command": "file:///{TestBundle.FileName}.empty.sql"
    }
  ],
  "Tests": [],
  "Channels": [
    {
      "$g": "Mailr",
      "Id": "email",
      "Theme": "default"
    }
  ],
  "Reports": [
    {
      "Name": "mssql",
      "Title": "Glitch alert [{TestCase.Level}]",
      "Modules": [
        {
          "$g": "Level"
        },
        {
          "$g": "Heading",
          "Text": "Hi, everyone.",
          "Level": 1
        },
        {
          "$g": "Paragraph",
          "Text": "{TestCase.Message}"
        },
        {
          "$g": "Heading",
          "Text": "Test Case",
          "Level": 2
        },
        {
          "$g": "TestSummary"
        },
        {
          "$g": "Heading",
          "Text": "Query",
          "Level": 2
        },
        {
          "$g": "QuerySummary"
        },
        {
          "$g": "Heading",
          "Text": "Data summary - default columns",
          "Level": 2
        },
        {
          "$g": "DataSummary",
          "Columns": [
            {
              "Select": "_string_text"
            },
            {
              "Select": "_string_json"
            },
            {
              "Select": "_string_misc"
            },
            {
              "Select": "_bit"
            },
            {
              "Select": "_int"
            },
            {
              "Select": "_float"
            },
            {
              "Select": "_decimal"
            },
            {
              "Select": "_datetime2"
            }
          ]
        },
        {
          "$g": "Heading",
          "Text": "Data summary - custom columns",
          "Level": 2
        },
        {
          "$g": "DataSummary",
          "Columns": [
            {
              "Select": "_string_text",
              "Display": "_string_text_renamed"
            },
            {
              "Select": "_string_text_first_line",
              "IsKey": true
            },
            {
              "Select": "_int",
              "Aggregate": "Sum"
            },
            {
              "Select": "_float",
              "Aggregate": "Average"
            },
            {
              "Select": "_decimal",
              "Aggregate": "Max"
            }
          ]
        }
      ]
    }
  ]
}