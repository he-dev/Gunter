{
  "Variables": [
    {
      "Id": "defaults",
      "Items": {
        "TestDb": "Data Source=(local);Initial Catalog=TestDb;Integrated Security=SSPI;",
        "Greeting": "Hi there!"
      }
    }
  ],
  "DataSources": [
    {
      "$t": "TableOrView",
      "Id": "everything",
      "ConnectionString": "{TestDb}",
      "Query": "file:///{TestBundle.FileName}.sql",
      "Then": [
        {
          "$t": "ExtractJsonValue",
          "Columns": [
            {
              "From": "_text",
              "Select": "$.Color",
              "Attach": "_color",
              "Default": "\"255, 255, 255\""
            }
          ]
        },
        {
          "$t": "FirstLine",
          "Columns": [
            {
              "From": "_text",
              "Attach": "_text-first-line"
            }
          ]
        }
      ]
    }
  ],
  "Tests": [],
  "Messengers": [
    {
      "$t": "Mailr",
      "Id": "default-email",
      "To": [
        "my@email.com"
      ],
      "Theme": "default"
    }
  ],
  "Reports": [
    {
      "Id": "full-report",
      "Title": "Glitch alert [{TestCase.Level}]",
      "Modules": [
        {
          "$t": "Level"
        },
        {
          "$t": "Greeting",
          "Heading": "Hi, everyone.",
          "Text": "{TestCase.Message}"
        },
        {
          "$t": "TestCase",
          "Heading": "Test case"
        },
        {
          "$t": "DataSource",
          "Heading": "Data-source"
        },
        {
          "$t": "DataSummary",
          "Heading": "Data snapshot",
          "Columns": [
            {
              "Select": "_text",
              "Display": "_text-renamed"
            },
            {
              "Select": "_text-first-line",
              "IsKey": true
            },
            {
              "Select": "_color"
            },
            {
              "Select": "_flag"
            },
            {
              "Select": "_count",
              "Aggregate": "Sum"
              // "Formatter": {
              //     "$t": "TimeSpan"
              // }
            },
            {
              "Select": "_distance",
              "Aggregate": "Average"
            },
            {
              "Select": "_price",
              "Aggregate": "Min"
            }
          ]
        }
      ]
    }
  ]
}